from websocket import create_connection
import json
send_data1='{"from": "webserver", "code": "ZGVmIHJ1bigpOgogICAgZ2xvYmFsIHBhZGRsZV92ZWwscGFkZGxlX3BvcyxiYWxsX3Bvcyxtb3ZlX3VuaXQKICAgIHBhZGRsZV92ZWw9MAogICAgaWYgKGJhbGxfcG9zWy0xXVsxXS1iYWxsX3Bvc1stMl1bMV0pID4wOgogICAgICAgIGlmIGJhbGxfcG9zWy0xXVsxXS1wYWRkbGVfcG9zPDg6CiAgICAgICAgICAgIHBhZGRsZV92ZWw9MAogICAgICAgIGVsaWYgYmFsbF9wb3NbLTFdWzFdLXBhZGRsZV9wb3M+ODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD1tb3ZlX3VuaXQqMgogICAgZWxpZiAoYmFsbF9wb3NbLTFdWzFdLWJhbGxfcG9zWy0yXVsxXSk8MDoKICAgICAgICBpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3Bvcz4tODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0wCiAgICAgICAgZWxpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3BvczwtODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0tbW92ZV91bml0KjIKICAgIGVsc2U6CiAgICAgICAgcGFkZGxlX3ZlbD0wCg==", "log_id": 3, "user_id": 2, "category_id": 1, "game_id": 1, "language": "python", "player_num": 2}'
send_data2='{"from": "webserver", "code": "ZGVmIHJ1bigpOgogICAgZ2xvYmFsIHBhZGRsZV92ZWwscGFkZGxlX3BvcyxiYWxsX3Bvcyxtb3ZlX3VuaXQKICAgIHBhZGRsZV92ZWw9MAogICAgaWYgKGJhbGxfcG9zWy0xXVsxXS1iYWxsX3Bvc1stMl1bMV0pID4wOgogICAgICAgIGlmIGJhbGxfcG9zWy0xXVsxXS1wYWRkbGVfcG9zPDg6CiAgICAgICAgICAgIHBhZGRsZV92ZWw9MAogICAgICAgIGVsaWYgYmFsbF9wb3NbLTFdWzFdLXBhZGRsZV9wb3M+ODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD1tb3ZlX3VuaXQqMgogICAgZWxpZiAoYmFsbF9wb3NbLTFdWzFdLWJhbGxfcG9zWy0yXVsxXSk8MDoKICAgICAgICBpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3Bvcz4tODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0wCiAgICAgICAgZWxpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3BvczwtODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0tbW92ZV91bml0KjIKICAgIGVsc2U6CiAgICAgICAgcGFkZGxlX3ZlbD0wCg==", "log_id": 3, "user_id": 3, "category_id": 1, "game_id": 1, "language": "python", "player_num": 2}'
send_data3='{"from": "webserver", "code": "ZGVmIHJ1bigpOgogICAgZ2xvYmFsIHBhZGRsZV92ZWwscGFkZGxlX3BvcyxiYWxsX3Bvcyxtb3ZlX3VuaXQKICAgIHBhZGRsZV92ZWw9MAogICAgaWYgKGJhbGxfcG9zWy0xXVsxXS1iYWxsX3Bvc1stMl1bMV0pID4wOgogICAgICAgIGlmIGJhbGxfcG9zWy0xXVsxXS1wYWRkbGVfcG9zPDg6CiAgICAgICAgICAgIHBhZGRsZV92ZWw9MAogICAgICAgIGVsaWYgYmFsbF9wb3NbLTFdWzFdLXBhZGRsZV9wb3M+ODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD1tb3ZlX3VuaXQqMgogICAgZWxpZiAoYmFsbF9wb3NbLTFdWzFdLWJhbGxfcG9zWy0yXVsxXSk8MDoKICAgICAgICBpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3Bvcz4tODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0wCiAgICAgICAgZWxpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3BvczwtODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0tbW92ZV91bml0KjIKICAgIGVsc2U6CiAgICAgICAgcGFkZGxlX3ZlbD0wCg==", "log_id": 4, "user_id": 4, "category_id": 1, "game_id": 1, "language": "python", "player_num": 2}'
send_data4='{"from": "webserver", "code": "ZGVmIHJ1bigpOgogICAgZ2xvYmFsIHBhZGRsZV92ZWwscGFkZGxlX3BvcyxiYWxsX3Bvcyxtb3ZlX3VuaXQKICAgIHBhZGRsZV92ZWw9MAogICAgaWYgKGJhbGxfcG9zWy0xXVsxXS1iYWxsX3Bvc1stMl1bMV0pID4wOgogICAgICAgIGlmIGJhbGxfcG9zWy0xXVsxXS1wYWRkbGVfcG9zPDg6CiAgICAgICAgICAgIHBhZGRsZV92ZWw9MAogICAgICAgIGVsaWYgYmFsbF9wb3NbLTFdWzFdLXBhZGRsZV9wb3M+ODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD1tb3ZlX3VuaXQqMgogICAgZWxpZiAoYmFsbF9wb3NbLTFdWzFdLWJhbGxfcG9zWy0yXVsxXSk8MDoKICAgICAgICBpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3Bvcz4tODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0wCiAgICAgICAgZWxpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3BvczwtODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0tbW92ZV91bml0KjIKICAgIGVsc2U6CiAgICAgICAgcGFkZGxlX3ZlbD0wCg==", "log_id": 4, "user_id": 1, "category_id": 1, "game_id": 1, "language": "python", "player_num": 2}'

send_data5='{"from": "webserver", "code": "ZGVmIHJ1bigpOgogICAgZ2xvYmFsIHBhZGRsZV92ZWwscGFkZGxlX3BvcyxiYWxsX3Bvcyxtb3ZlX3VuaXQKICAgIHBhZGRsZV92ZWw9MAogICAgaWYgKGJhbGxfcG9zWy0xXVsxXS1iYWxsX3Bvc1stMl1bMV0pID4wOgogICAgICAgIGlmIGJhbGxfcG9zWy0xXVsxXS1wYWRkbGVfcG9zPDg6CiAgICAgICAgICAgIHBhZGRsZV92ZWw9MAogICAgICAgIGVsaWYgYmFsbF9wb3NbLTFdWzFdLXBhZGRsZV9wb3M+ODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD1tb3ZlX3VuaXQqMgogICAgZWxpZiAoYmFsbF9wb3NbLTFdWzFdLWJhbGxfcG9zWy0yXVsxXSk8MDoKICAgICAgICBpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3Bvcz4tODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0wCiAgICAgICAgZWxpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3BvczwtODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0tbW92ZV91bml0KjIKICAgIGVsc2U6CiAgICAgICAgcGFkZGxlX3ZlbD0wCg==", "log_id": 5, "user_id": 2, "category_id": 1, "game_id": 1, "language": "python", "player_num": 2}'
send_data6='{"from": "webserver", "code": "ZGVmIHJ1bigpOgogICAgZ2xvYmFsIHBhZGRsZV92ZWwscGFkZGxlX3BvcyxiYWxsX3Bvcyxtb3ZlX3VuaXQKICAgIHBhZGRsZV92ZWw9MAogICAgaWYgKGJhbGxfcG9zWy0xXVsxXS1iYWxsX3Bvc1stMl1bMV0pID4wOgogICAgICAgIGlmIGJhbGxfcG9zWy0xXVsxXS1wYWRkbGVfcG9zPDg6CiAgICAgICAgICAgIHBhZGRsZV92ZWw9MAogICAgICAgIGVsaWYgYmFsbF9wb3NbLTFdWzFdLXBhZGRsZV9wb3M+ODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD1tb3ZlX3VuaXQqMgogICAgZWxpZiAoYmFsbF9wb3NbLTFdWzFdLWJhbGxfcG9zWy0yXVsxXSk8MDoKICAgICAgICBpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3Bvcz4tODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0wCiAgICAgICAgZWxpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3BvczwtODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0tbW92ZV91bml0KjIKICAgIGVsc2U6CiAgICAgICAgcGFkZGxlX3ZlbD0wCg==", "log_id": 5, "user_id": 3, "category_id": 1, "game_id": 1, "language": "python", "player_num": 2}'
send_data7='{"from": "webserver", "code": "ZGVmIHJ1bigpOgogICAgZ2xvYmFsIHBhZGRsZV92ZWwscGFkZGxlX3BvcyxiYWxsX3Bvcyxtb3ZlX3VuaXQKICAgIHBhZGRsZV92ZWw9MAogICAgaWYgKGJhbGxfcG9zWy0xXVsxXS1iYWxsX3Bvc1stMl1bMV0pID4wOgogICAgICAgIGlmIGJhbGxfcG9zWy0xXVsxXS1wYWRkbGVfcG9zPDg6CiAgICAgICAgICAgIHBhZGRsZV92ZWw9MAogICAgICAgIGVsaWYgYmFsbF9wb3NbLTFdWzFdLXBhZGRsZV9wb3M+ODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD1tb3ZlX3VuaXQqMgogICAgZWxpZiAoYmFsbF9wb3NbLTFdWzFdLWJhbGxfcG9zWy0yXVsxXSk8MDoKICAgICAgICBpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3Bvcz4tODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0wCiAgICAgICAgZWxpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3BvczwtODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0tbW92ZV91bml0KjIKICAgIGVsc2U6CiAgICAgICAgcGFkZGxlX3ZlbD0wCg==", "log_id": 6, "user_id": 4, "category_id": 1, "game_id": 1, "language": "python", "player_num": 2}'
send_data8='{"from": "webserver", "code": "ZGVmIHJ1bigpOgogICAgZ2xvYmFsIHBhZGRsZV92ZWwscGFkZGxlX3BvcyxiYWxsX3Bvcyxtb3ZlX3VuaXQKICAgIHBhZGRsZV92ZWw9MAogICAgaWYgKGJhbGxfcG9zWy0xXVsxXS1iYWxsX3Bvc1stMl1bMV0pID4wOgogICAgICAgIGlmIGJhbGxfcG9zWy0xXVsxXS1wYWRkbGVfcG9zPDg6CiAgICAgICAgICAgIHBhZGRsZV92ZWw9MAogICAgICAgIGVsaWYgYmFsbF9wb3NbLTFdWzFdLXBhZGRsZV9wb3M+ODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD1tb3ZlX3VuaXQqMgogICAgZWxpZiAoYmFsbF9wb3NbLTFdWzFdLWJhbGxfcG9zWy0yXVsxXSk8MDoKICAgICAgICBpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3Bvcz4tODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0wCiAgICAgICAgZWxpZiBiYWxsX3Bvc1stMV1bMV0tcGFkZGxlX3BvczwtODoKICAgICAgICAgICAgcGFkZGxlX3ZlbD0tbW92ZV91bml0KjIKICAgIGVsc2U6CiAgICAgICAgcGFkZGxlX3ZlbD0wCg==", "log_id": 6, "user_id": 1, "category_id": 1, "game_id": 1, "language": "python", "player_num": 2}'

ws = create_connection("ws://127.0.0.1:6005")# to gameserver
for i in range(4):
    res = i %4
    if res==3:
        ws.send(send_data3)
        ws.send(send_data4)
    elif res==1:
        ws.send(send_data1)
        ws.send(send_data2)
    elif res==2:
        ws.send(send_data5)
        ws.send(send_data6)
    else:
        ws.send(send_data7)
        ws.send(send_data8)
    result =  ws.recv() #
    print("Received '%s'" % result)

ws.close()